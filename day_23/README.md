# Educational Platform Support Assistant

Это Chainlit-приложение, которое выступает в роли ассистента технической поддержки для образовательной платформы. Приложение использует RAG (Retrieval-Augmented Generation) для поиска релевантной информации в документации и интегрируется с CRM-системой для учета контекста пользовательских тикетов.

## Возможности

- Ответы на вопросы пользователей на основе документации платформы
- Учет контекста тикетов поддержки при формировании ответов
- Интеграция с CRM-системой (реализована через JSON-файлы)
- Поддержка русского языка

## Структура проекта

```
.
├── app.py                 # Основное приложение Chainlit
├── rag_engine.py          # Движок RAG для работы с документацией
├── crm_integration.py   # Интеграция с CRM
├── requirements.txt       # Зависимости проекта
├── docs/                  # Документация платформы
│   ├── platform_overview.md
│   ├── faq.md
│   └── course_access.md
├── crm/                  # Данные CRM
│   ├── users.json
│   └── tickets.json
└── providers/             # Провайдеры LLM
    ├── __init__.py
    ├── ollama_provider.py
    └── yandex_provider.py
```

## Установка

1. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```

2. Убедитесь, что у вас установлен Ollama (https://ollama.com/)

3. Запустите нужную модель в Ollama:
   ```bash
   ollama run llama3.2
   ```

## Запуск приложения

```bash
chainlit run app.py
```

## Использование

1. После запуска откройте браузер по адресу, указанному в консоли (обычно http://localhost:8000)
2. Задавайте вопросы по образовательной платформе
3. Для учета контекста тикета упомяните его номер в сообщении (например, "ticket_001")

## Примеры запросов

- "Почему не работает авторизация?"
- "Как восстановить пароль?"
- "Как оплатить курс?"
- "ticket_001 Почему не могу войти в аккаунт?"

## Настройка

Для настройки параметров подключения к LLM, создайте файл `.env` на основе `.env.example`:
```bash
cp .env.example .env
```

Затем отредактируйте `.env` по необходимости.

## Разработка

### Добавление новой документации

Поместите новые markdown-файлы в директорию `docs/`. Они будут автоматически индексироваться при следующем запуске приложения.

### Добавление пользователей и тикетов

Отредактируйте файлы в директории `crm/`:
- `users.json` - информация о пользователях
- `tickets.json` - тикеты поддержки

## Технические детали

### RAG (Retrieval-Augmented Generation)

Приложение использует:
- Разделение документов по заголовкам
- Векторное представление текста (HuggingFace embeddings)
- Поиск похожих фрагментов с помощью FAISS

### CRM-интеграция

Реализована через JSON-файлы:
- `crm/users.json` - данные пользователей
- `crm/tickets.json` - тикеты поддержки

### Поддерживаемые LLM

- Ollama (по умолчанию)
- Yandex GPT (при наличии API-ключа)

## Лицензия

MIT